"use strict";(self.webpackChunkproject_document=self.webpackChunkproject_document||[]).push([[309],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>f});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=i.createContext({}),c=function(e){var t=i.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},l=function(e){var t=c(e.components);return i.createElement(u.Provider,{value:t},e.children)},p="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,u=e.parentName,l=a(e,["components","mdxType","originalType","parentName"]),p=c(n),m=r,f=p["".concat(u,".").concat(m)]||p[m]||h[m]||o;return n?i.createElement(f,s(s({ref:t},l),{},{components:n})):i.createElement(f,s({ref:t},l))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,s=new Array(o);s[0]=m;var a={};for(var u in t)hasOwnProperty.call(t,u)&&(a[u]=t[u]);a.originalType=e,a[p]="string"==typeof e?e:r,s[1]=a;for(var c=2;c<o;c++)s[c]=n[c];return i.createElement.apply(null,s)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1311:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var i=n(7462),r=(n(7294),n(3905));const o={},s="User Initialize Function",a={unversionedId:"system-architecture/functions/user-initialize-function",id:"system-architecture/functions/user-initialize-function",title:"User Initialize Function",description:"Function Resource Name: user-initialize-function",source:"@site/docs/system-architecture/functions/user-initialize-function.md",sourceDirName:"system-architecture/functions",slug:"/system-architecture/functions/user-initialize-function",permalink:"/nishiki-documents/project-document/system-architecture/functions/user-initialize-function",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Main function",permalink:"/nishiki-documents/project-document/system-architecture/functions/main-function"},next:{title:"Notification Service",permalink:"/nishiki-documents/project-document/system-architecture/functions/notification-service"}},u={},c=[{value:"Initialize User",id:"initialize-user",level:2},{value:"How this function work",id:"how-this-function-work",level:2}],l={toc:c},p="wrapper";function h(e){let{components:t,...n}=e;return(0,r.kt)(p,(0,i.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"user-initialize-function"},"User Initialize Function"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Function Resource Name"),": user-initialize-function"),(0,r.kt)("p",null,"Users register in this application through Cognito using Google Authenticator.\nHowever, this system currently lacks a means to identify users.\nConsequently, this system cannot distinguish between individual users even though foods and containers are managed by specific users within this system.\nTo address this issue, users must be registered with Nishiki, not just in the Cognito."),(0,r.kt)("h2",{id:"initialize-user"},"Initialize User"),(0,r.kt)("p",null,"When the user sign up for this system, it's required for the user to have a container and belong to a group.\nConsequently, this system must create a new group and a new container for each new user during the sign-up process."),(0,r.kt)("h2",{id:"how-this-function-work"},"How this function work"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-lambda-post-confirmation.html"},"This function hooks Cognito's sign-up event"),", which provides the user's email address.\nLeveraging this information, the function initiate the following process using the API of ",(0,r.kt)("a",{parentName:"p",href:"/system-architecture/functions/main-function"},"main function's API"),"."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://nishiki-tech.github.io/nishiki-documents/web-api/index.html#tag/user/paths/~1users/post"},"Register the user in Nishiki.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://nishiki-tech.github.io/nishiki-documents/web-api/index.html#tag/user/paths/~1users/post"},"Create a new Group.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://nishiki-tech.github.io/nishiki-documents/web-api/index.html#tag/container/paths/~1containers/post"},"Create a new Container.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://nishiki-tech.github.io/nishiki-documents/web-api/index.html#tag/group/paths/~1groups~1%7BgroupId%7D~1users~1%7BuserId%7D/put"},"Let the new user belong to the new Group which is created in 2. process."))))}h.isMDXComponent=!0}}]);