<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-database/database" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">DynamoDB Design | Nishki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://genesis-tech-tribe.github.io/nishiki-documents/project-document/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://genesis-tech-tribe.github.io/nishiki-documents/project-document/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://genesis-tech-tribe.github.io/nishiki-documents/project-document/database"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="DynamoDB Design | Nishki"><meta data-rh="true" name="description" content="This system use DynamoDB."><meta data-rh="true" property="og:description" content="This system use DynamoDB."><link data-rh="true" rel="icon" href="/nishiki-documents/project-document/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://genesis-tech-tribe.github.io/nishiki-documents/project-document/database"><link data-rh="true" rel="alternate" href="https://genesis-tech-tribe.github.io/nishiki-documents/project-document/database" hreflang="en"><link data-rh="true" rel="alternate" href="https://genesis-tech-tribe.github.io/nishiki-documents/project-document/database" hreflang="x-default"><link rel="stylesheet" href="/nishiki-documents/project-document/assets/css/styles.cffc0e25.css">
<link rel="preload" href="/nishiki-documents/project-document/assets/js/runtime~main.66d23f7a.js" as="script">
<link rel="preload" href="/nishiki-documents/project-document/assets/js/main.c7e95182.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/nishiki-documents/project-document/"><div class="navbar__logo"><img src="/nishiki-documents/project-document/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/nishiki-documents/project-document/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Nishiki</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/genesis-tech-tribe" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/nishiki-documents/project-document/">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/nishiki-documents/project-document/domain-model">Domain Models</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/nishiki-documents/project-document/system-architecture/overview">System Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/nishiki-documents/project-document/database/er-diagram">Database</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/nishiki-documents/project-document/database/er-diagram">ER Diagram</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/nishiki-documents/project-document/database">Database Definition</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/nishiki-documents/project-document/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Database</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Database Definition</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>DynamoDB Design</h1><p>This system use DynamoDB.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-configs">Table Configs<a href="#table-configs" class="hash-link" aria-label="Direct link to Table Configs" title="Direct link to Table Configs">​</a></h2><p><strong>Table Name</strong>: nishiki-table-prod-db<br>
<strong>Deletion Policy</strong>: Retain (In develop environment, Delete)</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>In the development environment, the DB name is changed to the <code>nishiki-table-dev-db</code>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-structure">Table Structure<a href="#table-structure" class="hash-link" aria-label="Direct link to Table Structure" title="Direct link to Table Structure">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="key">Key<a href="#key" class="hash-link" aria-label="Direct link to Key" title="Direct link to Key">​</a></h3><p>Partition Key is mostly ID of the entity.
Sort key is normally, explains the type of data, if the data is about User, the sort key is USER. But this is relative.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="attributes">Attributes<a href="#attributes" class="hash-link" aria-label="Direct link to Attributes" title="Direct link to Attributes">​</a></h3><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Note</th></tr></thead><tbody><tr><td align="left">UserId</td><td align="left">String</td><td align="left">UUID</td></tr><tr><td align="left">UserName</td><td align="left">String</td><td align="left"></td></tr><tr><td align="left">EMailAddress</td><td align="left">String</td><td align="left"></td></tr><tr><td align="left">GroupId</td><td align="left">String</td><td align="left">UUID</td></tr><tr><td align="left">GroupName</td><td align="left">String</td><td align="left"></td></tr><tr><td align="left">LinkExpiryDatetime</td><td align="left">String</td><td align="left">ISO 8601 date and time</td></tr><tr><td align="left">InvitationLinkHash</td><td align="left">String</td><td align="left">This hash is generated from the Group ID and Expiry Datetime using the MD5 algorithm</td></tr><tr><td align="left">ContainerId</td><td align="left">String</td><td align="left">UUID</td></tr><tr><td align="left">ContainerName</td><td align="left">String</td><td align="left"></td></tr><tr><td align="left">Foods</td><td align="left">List<!-- -->[Object]</td><td align="left"><a href="/nishiki-documents/project-document/database#foods">Object Detail</a></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="global-secondary-index-gsi">Global Secondary Index (GSI)<a href="#global-secondary-index-gsi" class="hash-link" aria-label="Direct link to Global Secondary Index (GSI)" title="Direct link to Global Secondary Index (GSI)">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="userandgrouprelations">UserAndGroupRelations<a href="#userandgrouprelations" class="hash-link" aria-label="Direct link to UserAndGroupRelations" title="Direct link to UserAndGroupRelations">​</a></h3><p><strong>GSI Name</strong>: UserAndGroupRelationship<br>
<strong>Projection Type</strong>: KEY_ONLY</p><table><thead><tr><th align="left">Key</th><th align="left">Attribute</th></tr></thead><tbody><tr><td align="left">PK</td><td align="left">GroupId</td></tr></tbody></table><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>This index is used for the access pattern of retrieving a list of users by the Group ID.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="groupandcontainerrelationship">GroupAndContainerRelationship<a href="#groupandcontainerrelationship" class="hash-link" aria-label="Direct link to GroupAndContainerRelationship" title="Direct link to GroupAndContainerRelationship">​</a></h3><p><strong>GSI Name</strong>: GroupAndContainerRelationship<br>
<strong>Projection Type</strong>: KEY_ONLY</p><table><thead><tr><th align="left">Key</th><th align="left">Attribute</th></tr></thead><tbody><tr><td align="left">PK</td><td align="left">ContainerId</td></tr></tbody></table><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>This index is used for the access pattern of retrieving a Group ID by the Container ID.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="emailuserrelation">EMailUserRelation<a href="#emailuserrelation" class="hash-link" aria-label="Direct link to EMailUserRelation" title="Direct link to EMailUserRelation">​</a></h3><p><strong>GSI Name</strong>: EMailAndUserIdRelationship<br>
<strong>Projection Type</strong>: KEY_ONLY</p><table><thead><tr><th align="left">Key</th><th align="left">Attribute</th></tr></thead><tbody><tr><td align="left">PK</td><td align="left">EMailAddress</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="non-key-attributes">Non Key Attributes<a href="#non-key-attributes" class="hash-link" aria-label="Direct link to Non Key Attributes" title="Direct link to Non Key Attributes">​</a></h4><ul><li>InvitationLinkHash</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>This GSI&#x27;s PK is &quot;ExpiryDatetime&quot;. Used for querying the expired Datetime.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="invitationhash">InvitationHash<a href="#invitationhash" class="hash-link" aria-label="Direct link to InvitationHash" title="Direct link to InvitationHash">​</a></h3><p><strong>GSI Name</strong>: InvitationHash<br>
<strong>Projection Type</strong>: INCLUDE</p><table><thead><tr><th align="left">Key</th><th align="left">Attribute</th></tr></thead><tbody><tr><td align="left">PK</td><td align="left">InvitationLinkHash</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="non-key-attributes-1">Non Key Attributes<a href="#non-key-attributes-1" class="hash-link" aria-label="Direct link to Non Key Attributes" title="Direct link to Non Key Attributes">​</a></h4><ul><li>LinkExpiryDatetime</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contexts">Contexts<a href="#contexts" class="hash-link" aria-label="Direct link to Contexts" title="Direct link to Contexts">​</a></h2><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The {} means that the value inside it will be dynamic value.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="user">User<a href="#user" class="hash-link" aria-label="Direct link to User" title="Direct link to User">​</a></h3><p><strong>PK</strong>: User ID (UUID)</p><table><thead><tr><th align="left">SK</th><th align="left">Detail</th><th align="left">Attributes</th></tr></thead><tbody><tr><td align="left">User</td><td align="left">User Data</td><td align="left">UserName, EMailAddress</td></tr><tr><td align="left">Group#{GroupID}</td><td align="left">The group user belong to</td><td align="left">GroupId</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="group">Group<a href="#group" class="hash-link" aria-label="Direct link to Group" title="Direct link to Group">​</a></h3><p><strong>PK</strong>: Group ID (UUID)</p><table><thead><tr><th align="left">SK</th><th align="left">Detail</th><th align="left">Attributes</th></tr></thead><tbody><tr><td align="left">Group</td><td align="left">Group Data</td><td align="left">GroupName, Users</td></tr><tr><td align="left">Container#{ContainerID}</td><td align="left">Container Data</td><td align="left">ContainerId</td></tr><tr><td align="left">InvitationLinkHash</td><td align="left">Invitation link&#x27;s hash string</td><td align="left">LinkExpiryDatetime, InvitationLinkHash</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="container">Container<a href="#container" class="hash-link" aria-label="Direct link to Container" title="Direct link to Container">​</a></h3><p><strong>PK</strong>: Container ID (UUID)</p><table><thead><tr><th align="left">SK</th><th align="left">Detail</th><th align="left">Attribute</th></tr></thead><tbody><tr><td align="left">Container</td><td align="left">Container Data</td><td align="left">ContainerName, Foods</td></tr></tbody></table><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Container can be defined in the Group context using PK as group ID and SK as Container#{ContainerID}.
While it makes the item structure more straightforward, it requires the use of a Global secondary Index(GSI) to retrieve container data using the container ID.</p><p>In this system, updating food operations are the most frequent, and in DynamoDB, writing operations are more than 5 times more expensive than reading.
Using GSI for writing operations result in twice the cost which is not cost-effective. Hence, we prioritize cost efficiency and opted to separate the container from the group.</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="foods">Foods<a href="#foods" class="hash-link" aria-label="Direct link to Foods" title="Direct link to Foods">​</a></h4><p>Food is the object.</p><div class="language-object codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-object codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    FoodId: string (UUID),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Name: String | null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Unit: String | null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Quantity: Number | null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Category: String | null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Expiry: String (Datetime) | null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CreatedDatetime: String (Datetime)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="access-pattern">Access Pattern<a href="#access-pattern" class="hash-link" aria-label="Direct link to Access Pattern" title="Direct link to Access Pattern">​</a></h2><table><thead><tr><th align="left">Access pattern name</th><th align="left">Key (PK/SK)</th><th align="left">How to Access</th><th align="left">Detail</th><th align="left">Context</th></tr></thead><tbody><tr><td align="left">GetUser</td><td align="left">UserId / User</td><td align="left">Get</td><td align="left">Get a single user data</td><td align="left">User</td></tr><tr><td align="left">GetUser</td><td align="left">UserId / Group#{GroupId}</td><td align="left">Get</td><td align="left">Check user&#x27;s existence. return boolean.</td><td align="left">Boolean (Primitive value)</td></tr><tr><td align="left">GetUserByEMail</td><td align="left">EMailAddress</td><td align="left">Query against GSI</td><td align="left">Get a single user&#x27;s ID</td><td align="left">User</td></tr><tr><td align="left">ListOfUsersGroup</td><td align="left">UserId / Group#</td><td align="left">Query</td><td align="left">List of groups user belonging to</td><td align="left">User</td></tr><tr><td align="left">GetGroup</td><td align="left">GroupId / Group</td><td align="left">Get</td><td align="left">Get a group data</td><td align="left">Group</td></tr><tr><td align="left">GetGroup</td><td align="left">ContainerId</td><td align="left">Query against GSI</td><td align="left">Get data of a group a container belonging to</td><td align="left">Group</td></tr><tr><td align="left">ListOfContainers</td><td align="left">GroupId / Container#</td><td align="left">Query</td><td align="left">List of containers belonging to group</td><td align="left">Group</td></tr><tr><td align="left">ListOfUsersInGroup</td><td align="left">GroupId</td><td align="left">Query against GSI</td><td align="left">List of users belonging to group</td><td align="left">Group</td></tr><tr><td align="left">GetContainer</td><td align="left">ContainerId / Container</td><td align="left">Get</td><td align="left">Get a container data</td><td align="left">Container</td></tr><tr><td align="left">GetInvitationLink</td><td align="left">InvitationHash</td><td align="left">Query against GSI</td><td align="left">Get an invitation link and related information</td><td align="left">Group</td></tr><tr><td align="left">GetInvitationLinkByGroupId</td><td align="left">GroupId</td><td align="left">Get</td><td align="left">Get an invitation hash from the group ID</td><td align="left">Group</td></tr></tbody></table></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/nishiki-documents/project-document/database/er-diagram"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ER Diagram</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table-configs" class="table-of-contents__link toc-highlight">Table Configs</a></li><li><a href="#table-structure" class="table-of-contents__link toc-highlight">Table Structure</a><ul><li><a href="#key" class="table-of-contents__link toc-highlight">Key</a></li><li><a href="#attributes" class="table-of-contents__link toc-highlight">Attributes</a></li></ul></li><li><a href="#global-secondary-index-gsi" class="table-of-contents__link toc-highlight">Global Secondary Index (GSI)</a><ul><li><a href="#userandgrouprelations" class="table-of-contents__link toc-highlight">UserAndGroupRelations</a></li><li><a href="#groupandcontainerrelationship" class="table-of-contents__link toc-highlight">GroupAndContainerRelationship</a></li><li><a href="#emailuserrelation" class="table-of-contents__link toc-highlight">EMailUserRelation</a></li><li><a href="#invitationhash" class="table-of-contents__link toc-highlight">InvitationHash</a></li></ul></li><li><a href="#contexts" class="table-of-contents__link toc-highlight">Contexts</a><ul><li><a href="#user" class="table-of-contents__link toc-highlight">User</a></li><li><a href="#group" class="table-of-contents__link toc-highlight">Group</a></li><li><a href="#container" class="table-of-contents__link toc-highlight">Container</a></li></ul></li><li><a href="#access-pattern" class="table-of-contents__link toc-highlight">Access Pattern</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/genesis-tech-tribe" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/nishiki-documents/project-document/assets/js/runtime~main.66d23f7a.js"></script>
<script src="/nishiki-documents/project-document/assets/js/main.c7e95182.js"></script>
</body>
</html>